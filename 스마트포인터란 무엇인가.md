# 스마트포인터란 무엇인가

스마트포인터는  new/delete 를 사람이 직접 하지 않고 RAII를 적용하여 객체의 수명(스코프)에 맞춰 자동으로 해제되게 만든 포인터이다.

## 왜 필요한가
new 로 할당한 메모리는 반드시 delete로 해제해야 한다.  
그런데 함수가 중간에 return 되거나 예외가 나면 delete 를 빼먹기 쉬워 누수가 생길 수 있다.  
스마트포인터를 쓰면 스코프가 끝날 때 자동으로 해제되어 이런 실수를 줄일 수 있다.

## 스마트포인터의 종류
- unique_ptr : 소유자 1명(단독 소유)
- shared_ptr : 여러 명이 함께 소유(공유 소유)
- weak_ptr   : 공유 소유의 문제(순환 참조 등)를 막기 위한 보조 포인터

## 예제

#include <iostream>
#include <memory>
using namespace std;

class A {
public:
    A()  { cout << "생성" << endl; }
    ~A() { cout << "소멸" << endl; }
};

void Raw() {
    A* p = new A();
    delete p; // 직접 해제
}

void Smart() {
    auto p = make_unique<A>(); // 스코프 종료 시 자동 해제
}

int main() {
    Raw();
    Smart();
}
